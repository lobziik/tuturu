<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, interactive-widget=resizes-content">
  <title>tuturu - WebRTC Video Call</title>
  <link rel="icon" href="/favicon.ico" sizes="48x48">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">
  <meta name="theme-color" content="#0f172a">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>tuturu ðŸ“ž</h1>
      <p class="tagline">Tuturu~</p>
    </header>

    <main>
      <!-- PIN Entry -->
      <div id="pin-entry" class="card">
        <h2>Enter PIN to connect</h2>
        <form id="pin-form">
          <input
            type="text"
            id="pin-input"
            placeholder="000000"
            maxlength="6"
            pattern="\d{6}"
            required
            autocomplete="off"
          >
          <button type="submit" id="connect-btn">Connect</button>
        </form>
        <p class="hint">Share a 6-digit PIN with someone to start a call</p>
      </div>

      <!-- Call Interface -->
      <div id="call-interface" class="hidden">
        <div class="status-bar" id="status-bar">
          <span id="status-text">Connecting...</span>
          <span id="pin-display"></span>
        </div>

        <div class="video-container">
          <!-- Remote video (peer) -->
          <video id="remote-video" autoplay playsinline></video>

          <!-- Local video (self) -->
          <video id="local-video" autoplay playsinline muted></video>
        </div>

        <div class="controls">
          <button id="mute-btn" class="control-btn" title="Mute/Unmute">
            <span class="icon">ðŸŽ¤</span>
            <span class="label">Mute</span>
          </button>

          <button id="video-btn" class="control-btn" title="Video On/Off">
            <span class="icon">ðŸ“¹</span>
            <span class="label">Video</span>
          </button>

          <button id="flip-btn" class="control-btn" title="Flip Camera">
            <span class="icon">ðŸ”„</span>
            <span class="label">Flip</span>
          </button>

          <button id="hangup-btn" class="control-btn danger" title="Hang Up">
            <span class="icon">ðŸ“ž</span>
            <span class="label">Hang Up</span>
          </button>
        </div>
      </div>

      <!-- Error Display -->
      <div id="error-display" class="error hidden">
        <strong>Error:</strong>
        <span id="error-message"></span>
      </div>
    </main>

    <footer>
      <p>
        Self-hosted WebRTC calling â€¢
        <a href="https://github.com/yourusername/tuturu" target="_blank">GitHub</a>
      </p>
    </footer>
  </div>

  <script type="module" src="index.js"></script>
</body>
</html>
